# 第一章 概述

## 1.1 计算机网络在信息时代的作用

​	[中国互联网络信息中心 (cnnic.net.cn)](https://www.cnnic.net.cn/)

既然无法逃避接触互联网，那么为何不去了解并使用它。

## 1.2 因特网概述

### 	Ⅰ.网络、互联网、因特网

​			网络是由若干结点（node）和链路（link）组成。链路可以是有线链路，也可以是无线链路。

​			多个网络通过路由器互联起来，就组成了互联网。

​			数亿用户，数百万计的互联网组成了因特网。

​			**internet和Internet的区别：**

​				①.internet是通用名词，泛指由多个计算机网络互联组成的网络。在这些网络之间通信协议是任意的。

​				②.Internet是专用名词，指全国最大的、开放的、由众多网络相互连接而成的特定计算机网络，它采用TCP/IP协议作为通信的规则，其前身是美国的ARPANET。

### 	Ⅱ.因特网发展的三个阶段			

1969年			======》				1985年			======》 		1993年 

| 从单个网络APPANET向互联网发展                                | 逐步建成三级结构的因特网                                     | 逐步形成了多层次ISP结构的因特网                              |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 1969年，第一个分组交换网 **ARPANET**                         | 1985年，NSF围绕六个大型计算机中心组设NSFNET （主干网、地区网和校园网） | 1993年开始，NSFNET逐渐被若干个商用因特网主干替代；政府机关不在负责因特网的运营，让各种因特网服务提供者ISP来运营。 |
| 70年代中期，研究多种网络之间的互连                           | 1990年，ARPANET任务完成，正式关闭                            | 1994奶奶，万维网WWW技术促使因特网迅速发展                    |
| 1983年，TCP/IP成为ARPANET的标准协议，使所有使用TCP/IP协议的计算机都能够通过互联网进行通信 | 1991年，美国政府将因特网的主干网交给私人公司运营，并开始对接入因特网的单位收费 | 1995年，NSFNET停止运作，因特网彻底商业化。                   |

​	**因特网服务提供者ISP (Internet Service Provider)：**

​		ISP向因特网管理机构申请IP块，提供路由器，为用户提供IP地址、通讯等服务。

​	**因特网的标准化工作：**

​		因特网的标准化工作对因特网的发展起到了非常重要的作用。

​		因特网在指定其标准上有一个很大的特点是 **面向公众**

​			因特网所有的RFC（Request For Comments）技术文档都可以从因特网上免费下载(http://www.ietf.org/rfc.html)。

​			任何人都可以随时使用电子邮件发表对某个文档的意见和建议。

​		因特网协会ISOC是一个国际性组织，它负责对因特网的全面管理，以及在世界范围内促进其发展和使用。

​			因特网体系结构委员会IAB，负责管理因特网有关协议的开发；

​			因特网工程部IETF，负责研究中短期工程问题，主要针对协议的开发和标准化；

​			因特网研究部IRTF，从事理论方面的研究和开发一些需要长期考虑的问题。

​		指定因特网的正式标准需要经过以下四个阶段：

​			Ⅰ.因特网草案（这个阶段还不是RFC文档）

​			Ⅱ.建议标准（从该阶段开始称为RFC文档）

​			Ⅲ.草案标准

​			Ⅳ.因特网标准（并不是所有的RFC文档都变成因特网标准，只有一小部分称为了因特网标准）

​		**因特网的组成：**

​			边缘部分：由所有连接在因特网上的主机组成。这部分是用户直接使用的，用来进行通信（传送数据、音频或视频）和资源共享。

​			核心部分：由大量网络和连接这些网络的路由器组成。这部分是为边缘部分提供服务的（提供连通性和交换）。路由器是实现分组交换的关键构件，其任务是转发收到的分组。

## 1.3 三种交换方式

### 	Ⅰ.电路交换

​		电话交换机接通电话线的方式称为电路交换；

​		从通信资源的分配角度来看，交换就是按照某种方式动态地分配传输线路的资源；

​		电路交换分三个步骤：

​			①.建立连接（分配通信资源）

​			②.通话（一直占用通信资源）

​			③.释放连接（归还通信资源）

​		当使用电路交换来传送计算机数据时，其线路的传输效率往往很低。

### 	Ⅱ.分组交换

​		发送方：构造分组-》发送分组

​		路由器：缓存分组-》转发分组

​		接收方：接收分组-》还原报文

### 	Ⅲ.报文交换

​		不限制报文大小的分组交换，目前已被先进的分组交换取代。

### 	三种交换的优缺点：

​		

1. |            | 优点                                                         | 缺点                                                         |
   | ---------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
   | 电路交换： | ①.通信时延小：因为通信双方用户专用，数据直达，因此通信时延非常小。<br />②.有序传输：因为只有一条通讯线路，数据只在这一条线路上传输，因此不存在失序问题。<br />③.没有冲突：不同的通信双方拥有不同的信道，不会出现物理信道问题。<br />④.适用范围广：既可以传输数字信号，也可以传输模拟信号。<br />⑤.实时性强：得益于通信时延小。<br />⑥.控制简单：交换机和节点都比较简单。 | ①.建立连接时间长：电路交换的平均连接建立时间对计算机通信来说太长<br />②.线路独占，使用效率低：只要建立连接，就是独占。<br />③.灵活性差：只要通信出现故障，就要重新建立连接，这对紧急通信和重要通信十分不利<br />④.难以规格化 |
   | 报文交换： | ①.无需建立连接<br />②.动态分配线路<br />③.提高线路可靠性：一条线路出现问题，就会选择另一条线路。<br />④.提高线路利用率：通信双方不占用固定线路，而是在不同时间段占用不同物理线路。<br />⑤.提供多目标服务：一组报文可以同时发送至多个目的地 | ①.引起了转发时延<br />②.需要较大的缓存空间<br />③.需要传输额外的信息量 |
   | 分组交换   | ①.无需建立连接<br />②.线路利用率高<br />③.简化了存储管理：分组固定，大小固定，所以缓存也固定<br />④.加速传输：分组是逐个传输的，也就是说 当前分组的存储操作可以与上一分组的转发操作同时进行。<br />⑤.减少出错概率和重发数据量 | ①.引起了转发时延<br />②.需要传输额外的信息量<br />③.对于数据报服务，存在失序、丢失或重复分组的问题；对于虚电路服务，存在呼叫建立、数据传输和虚电路释放三个过程 |

​																				

## 	1.4  计算机网络的定义

​		计算机网络的精确定义并未统一

​		计算机网络的最简单定义是：一些互相连接的、自治的计算机集合。

​				互联：计算机之间通过有线或无线的方式连接

​				自治

​				集合

​		计算机网络并非专门用来传输数据。

​		**计算机网络的分类：**

​			按交换技术分类：电路交换网络、报文交换网络、分组交换网络。

​			按使用者分类：公用网、专用网

​			按传输介质分类：有线网络、无线网络

​			按覆盖范围分类：广域网（WAN）、城域网（MAN）、局域网（LAN）、个域网（PAN）

​			按拓扑结构分类：总线型网络、星型网络、环型网络、网状型网络。

## 1.5 计算机网络的性能指标：

##### 	计算机网络性能的指标有以下8个：

​		**速率、带宽、吞吐量、时延、时延带宽积、往返时间、利用率、丢包率。**

##### 		数据量单位：8bit=1 Byte     KB=2^10B      MB=K*KB=2^10 * 2^10=2^20B        GB=K*MB=2^10 * 2^20=2^30 B          TB=K*GB=2^10 * 2^30=2^40B

​		示例：某硬盘大小为250G 但系统实际为 232.8G    (250*10^9)/2^30=232.8G  厂家给的GB单位为10^9 操作系统中的G为2^30 所以标量与计算机实际不符合。

​		速率就是连接在计算机网络上的主机在数字信号上传送比特的速率，也成为**比特率**或**数据率**。

##### 		带宽在模拟信号系统中的意义：

​				**信号**所包含的各种不同频率成分所占据的**频率范围**

​				单位：Hz（kHz、MHz、GHz）

##### 	 带宽在计算机网络中的意义：

​				用来表示网络的通信线路所能传送数据的能力，因此网络带宽表示在单位时间内从网络中的某一点到另一点所能通过的 “最高数据量”；

​				单位与速率相同。

##### 	**吞吐量：**

​			吞吐量表示在单位时间内通过某个网络(或信道、接口)的数据量。

​			吞吐量被经常用于对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能够通过网络。

​			吞吐量受网络的带宽或额定速率的限制。

##### 	时延：

​			网络时延可分为：发送时延、传播时延、处理时延。

​			发送时延=分组长度(b)/发送速率(b/s) 注：发送速率由网卡的发送速率、信道带宽、接口速率共同决定。

​			传播时延=信道长度(m)/电磁波传播速率(m/s)      

​			电磁波在不同传播媒体间传播速率不同：	

​				**※** 自由空间：3 * 10^8m/s  铜线：2.3 * 10^8m/s 光纤：2.0 * 10^8m/s 

**时延带宽积：**时延带宽积=传播时延 * 带宽

​			链路的时延带宽积又称为 以比特为单位的链路长度

**往返时间 RTT（Round-Trip Time）：**

​			从源主机发送分组开始，直到源主机收到来自目的主机的确认分组为止，所需要的时间。

**利用率：**

​			信道利用率：用来表示某信道有百分之几的时间是被利用的（有数据通过）

​			网络利用率：全网络的信道利用率的加权平均

​			当信道利用率增大时，该信道引起的时延也会迅速增加，因此信道利用率并非越高越好。

​			D0表示网络空闲时的时延，D表示网络当前时延，U表示利用率，则关系如下：

​						D=D0/1-U    

​			当网络利用率到达50%时，时延就会加倍。

​			当网络利用率超过50%时，时延急剧增大。

​			当网络利用率接近100%时，时延就会趋于无穷大。

​			因此各大ISP 会控制网络利用率不超过50%，如果超过了就准备扩容，增大线路的带宽。

​			 同时不能使信道利用率太低，导致资源浪费。应该使用一些机制，可以根据动态的情况调整输入到网络中的通信量，使网络的利用率保持在一个合理的范围内。

**丢包率：**指分组的丢失率，在一定时间范围内，传输过程中丢失的分组数量与总分组数量的比率。

​			有接口丢包率、结点丢包率、链路丢包率、路径丢包率、网络丢包率。

​			**分组丢失：**

​							1) 分组在传输过程中出现**误码**，被结点丢弃。

​							2) 分组到达一台队列已满的交换机时被丢弃；在通信量较大时就可能造成**网络拥塞**。

​					实际上路由器会在缓存未满时就开始丢弃分组。

​					无阻塞时路径丢包率0%

​					轻微阻塞时路径丢包率1%~4%

​					严重阻塞时路径丢包率5%~15%

## 1.6 计算机网络体系结构

### 	Ⅰ. 常见的计算机网络体系结构

​		**OSI体系结构，为七层协议，从下至上为：物理层、数据链路层、网络层、运输层、会话层、表示层、应用层。**法律上的国际标准

​		**TCP/IP体系结构，为四层协议，从下至上为：网络接口层、网际层、运输层、应用层。**实际上的国际标准

​			在OSI中 路由器有网络层、数据链路层、物理层三层，交换机有数据链路层、物理层 两层结构 ，集线器中有物理层 一层结构		 

​			在tcp/ip中，路由器一般只有网际层和网络接口层。

​		实际上网络接口层为了可以互连全世界各种不同的网络接口，并没有具体定义网络接口，因此实际只有上面三层。 

​		**TCP/IP协议，网际层为IP协议，运输层为TCP、UDP协议，应用层包含了多种网络协议，例如HTTP、SMTP、DNS、RTP等。**

​		**IP协议可以将网络接口层的接口互连，并向运输层的TCP协议和UDP协议提供服务，TCP协议可以在享受IP协议提供的网络互连服务的基础上，向应用层的相应协议提供可靠的传输服务，而UDP协议在享受IP协议的网络互连服务的基础上，可以上应用层的相关协议提供不可靠的传输服务。**

​	对于学习计算机网络的完整体系而言，实机协议会缺少一部分信息，所以有了五层协议的原理体系结构。

​	**原理体系结构：**物理层、数据链路层、网络层、运输层、应用层。适于教学。

### 	Ⅱ. 计算机网络体系结构分层的必要性

​		分层将大问题变小问题。

​		物理层解决使用何种信号来传输比特问题。

​		数据链路层解决分组在一个网络（或一段链路）上传输的问题

​		网络层解决分组在多个网络上传输（路由）的问题

​		运输层解决进程之间基于网络的通信问题

​		应用层解决通过应用进程的交互来实现特定网络应用的问题

### 	Ⅲ. 计算机网络体系结构分层思想举例

​		逐层封装-》逐层拆解-》逐层封装-》逐层拆解

### 	Ⅳ. 计算机网络体系结构中的专业术语

​		**实体**：任何可发送或接收信息的**硬件**或**软件进程**

​		对等实体：收发双方**相同层次的实体**

​		**协议**：控制两个对等实体进行逻辑通信的规则和集合。

​		**协议三要素：语法 语义 同步**

​				语法 定义所交换信息的格式

​				语义 定义收发双方所需要完成的操作

​				同步 定义收发双方的时序关系

​		**服务**：在协议控制下，两个对等实体间的逻辑通信使得本层能够向上一层提供服务。

​				协议是**“水平的”**  服务是**“垂直的”**

​		服务访问点：在同一系统中的实体交换信息的逻辑接口，用于不同的服务类型。

​			例如：数据链路层的服务访问点为帧的“类型”字段

​						网络层的服务访问点为IP数据报首部中的“协议字段”

​						运输层的服务点为“端口号”

​		**服务原语**：上层使用下层所提供的服务必须通过与下一层交换一些命令，这些命令被称为 **服务原语**

​		**协议数据单元PDU**：在对等层次之间传送的数据包称为该层的协议数据单元。

​			物理层数据包称为：比特流

​			链路层数据包称为：帧

​			网络层数据包称为：IP报文或分组

​			运输层数据包称为：TCP报文或UDO报文

​			应用层数据包称为：报文

​			上述各层的数据包可以统称为PDU

​		**服务数据单元SDU**：同一系统内，层与层之间交换的数据包称为服务数据单元。

​			多个SDU合成为一个PDU，一个SDU也可以划分为几个PDU